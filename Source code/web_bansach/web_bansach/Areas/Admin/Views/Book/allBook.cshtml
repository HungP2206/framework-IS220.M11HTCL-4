
@model List<object>
<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
    <div class="section-block" id="basicform">
        <h3 class="section-title">DANH MỤC SẢN PHẨM SÁCH</h3>
        <!-- <p>Use custom button styles for actions in forms, dialogs, and more with support for multiple sizes, states, and more.</p> -->
    </div>
    <form class="form-inline" method="GET" action="searchBook" style="margin-left: 1000px;" autocomplete="off">
        <div class="form-group">
            <input type="text" class="form-control" id="email" placeholder="Search..." name="searchString" required>
        </div>
        <button type="submit" class="btn btn-default" style="background-color: #ccc"><i class="fa fa-search"></i></button>
    </form>
    <div class="cardall">
        <div class="ecommerce-widget">
            <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-6 col-sm-12 col-12">
                    <div class="card">
                        @*<h5 class="card-header">Recent Authors</h5>*@
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table border-1">
                                    <thead class="bg-light">
                                        <tr class="border-1">
                                            <th class="border-1">ID</th>
                                            <th class="border-1">Tên sách</th>
                                            <th class="border-1">Hình ảnh</th>
                                            <th class="border-1">Tên tác giả</th>
                                            <th class="border-1">Tên nhà cung cấp</th>
                                            <th class="border-1">Tên thể loại</th>
                                            <!-- <th class="border-1">Introduction</th>
                                            <th class="border-1">Description</th>
                                            <th class="border-1">Price unit</th>
                                            <th class="border-1">Sale</th>
                                            <th class="border-1">Price sale</th> -->
                                            <th class="border-1">Số lượng còn</th>
                                            <!-- <th class="border-1">Quantity buy</th> -->
                                            <th class="border-1">Trạng thái</th>
                                            <th class="border-0">Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody >
                                        @foreach (var item in Model)
                                         {
                                            <tr class="border-1">
                                                <td class="border-1">@item.GetType().GetProperty("BookID").GetValue(item, null)</td>

                                                <td class="border-1">@item.GetType().GetProperty("BookName").GetValue(item, null)</td>

                                                <td class="border-1">
                                                    <img src="~/images/@item.GetType().GetProperty("Img").GetValue(item, null)"
                                                                    class="img-fluid" style="width: 219px" alt="">
                                                </td>

                                                <td class="border-1">@item.GetType().GetProperty("AuthorName").GetValue(item, null)</td>

                                                <td class="border-1">@item.GetType().GetProperty("ProducerName").GetValue(item, null)</td>

                                                <td class="border-1">@item.GetType().GetProperty("CategoryName").GetValue(item, null)</td>

                                                <td class="border-1">
                                                    @if (Convert.ToInt32(@item.GetType().GetProperty("Quantity").GetValue(item, null)) > 0)
                                                    {
                                                        @item.GetType().GetProperty("Quantity").GetValue(item, null)
                                                    }
                                                    else
                                                    { <p>Hết hàng</p>}

                                                </td>

                                                <td class="border-1">
                                                    @if (@item.GetType().GetProperty("BookStatus").GetValue(item, null).ToString() == "0")
                                                    {
                                                        <span class="badge-dot badge-success mr-1"></span> <p>Đang kinh doanh</p>
                                                    }
                                                    else
                                                    { <span class="badge-dot badge-brand mr-1"></span><p>Ngừng kinh doanh</p>}
                                                </td>

                                                <td class="border-1" >
                                                    <a onclick="return confirm('Bạn có chắc muốn xoá sách này ?')" href="deleteBook?id=@item.GetType().GetProperty("BookID").GetValue(item, null)" class="btn btn-outline-light float-left">Xóa</a>
                                                    <a href="viewUpdateBook?id=@item.GetType().GetProperty("BookID").GetValue(item, null)" class="btn btn-outline-light float-left">Sửa</a>
                                                    <a href="viewAddQuantity?id=@item.GetType().GetProperty("BookID").GetValue(item, null)" class="btn btn-outline-light float-left">Thay đổi số lượng</a>
                                                </td>
                                            </tr>
                                         }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
